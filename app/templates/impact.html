{% extends "base.html" %}
{% block header %}Crash Impact Analysis{% endblock %}

{% block content %}
<div class="page-content">
    <h2>ğŸ† Crash Impact Analysis</h2>
    <p>This chart shows how many crashes fall into each severity type.</p>

    <div class="chart-container" style="width: 100%; max-width: 700px;">
        <canvas id="impactChart"></canvas>
    </div>

    <hr style="margin: 40px 0;">

    <h3>â° Crash Frequency by Hour of Day</h3>
    <p>Understand when most crashes occur during the day (0â€“23 hours).</p>

    <div class="chart-container" style="width: 100%; max-width: 700px;">
        <canvas id="hourChart"></canvas>
    </div>

    <h3>ğŸ©¹ Most Severe Injury in Crashes</h3>
    <p>This pie chart shows the distribution of the most severe injury sustained in each crash.</p>

    <div class="chart-container" style="width: 100%; max-width: 600px;">
        <canvas id="injuryChart"></canvas>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const labels = {{ labels | tojson }};
    const values = {{ values | tojson }};
    const hour_labels = {{ hour_labels | tojson }};
    const hour_counts = {{ hour_counts | tojson }};
    const injury_labels = {{ injury_labels | tojson }};
    const injury_values = {{ injury_values | tojson }};
</script>
<script src="{{ url_for('static', filename='js/impact_charts.js') }}"></script>
{% endblock %}
